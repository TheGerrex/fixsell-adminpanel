<div class="chat-container">
  <h1>WebSocket - Client Test</h1>

  <!-- Connected Clients List -->
  <!-- Connected Clients List -->
  <h3>Clients Connected</h3>
  <ul id="clients-ul">
    @for (client of clients; track client.id) {
    <li>
      {{ client.id }} - Room:
      <a href="#" (click)="connectAsAdmin(client.roomName, $event)">{{
        client.roomName
      }}</a>
    </li>
    } @empty {
    <li>No clients connected</li>
    }
  </ul>

  <div class="connection-section">
    <!-- User Connect Button -->
    <div class="connect-user">
      <p>Connect to the server as user</p>
      <button
        id="connect"
        class="button button-primary button-raised button-icon-text"
        (click)="connectAsUser()"
      >
        Connect
      </button>
    </div>

    <!-- Admin Connect Form -->
    <div class="connect-admin">
      <form (ngSubmit)="connectAsAdmin(roomNameInput.value)">
        <p>Connect to the server as admin in a room</p>
        <input
          #roomNameInput
          type="text"
          name="roomName"
          placeholder="Room name"
          required
        />
        <button
          type="submit"
          class="button button-primary button-raised button-icon-text"
        >
          Connect
        </button>
      </form>
    </div>
  </div>
  <!-- Current Room and Server Status -->
  <div class="status-section">
    <h4>Current Room: {{ currentRoomName }}</h4>
    <span id="server-status" class="status-indicator">Offline</span>
  </div>

  <!-- Chat Section -->
  <div class="chat-section">
    <!-- Messages Container -->
    <div class="messages-container">
      <h3>Messages</h3>
      <ul id="messages-ul" class="messages-list"></ul>
    </div>

    <!-- Message Form -->
    <form id="message-form" class="message-form">
      <input type="text" id="message-input" placeholder="Type a message..." />
      <button
        id="send"
        class="button button-primary button-raised button-icon-text"
      >
        Send
      </button>
    </form>
  </div>
</div>
